<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cloud Coffee</title>
  <style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 0;
        padding: 0;
        height: 100vh;
        background: url(OY_coffee.jpg) no-repeat center center/cover;
    }

    #home-icon {
        position: absolute;
        top: 20px;
        left: 30px;
        width: 50px;
        height: 50px;
        background-color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        text-decoration: none;
        z-index: 1000;
        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        transition: 0.3s;
    }
    #home-icon:hover {
        background-color: #eee;
        transform: scale(1.5);
    }

    .wrapper{
        margin: 0;
        justify-content: center;
        align-items: center;
        display: flex;
        min-height: 95vh;
        gap: 20px;
    }
    
    .container, .cart-container{
        width: 525px;
        height: 600px;
        background-color: hsla(0, 0%, 100%, 0.900);
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .header{     
        flex: 0 0 auto;
        text-align: center;
        padding: 20px;
    }
    .header h2{
        margin: 0;
        color: #333;
        font-size: 30px;
    }

    .container form {
        flex: 1 1 auto;
        padding: 25px;               /* å·¦ç™½æ¡†å…§è· */
        display: flex;
        flex-direction: column;      /* è®“ add-btn èƒ½è¢«æ¨åˆ°åº• */
    }

    .cart {
        flex: 1 1 auto;
        overflow-y: auto;
        padding: 20px;
        font-size: 20px;
    }

    .cart-footer{
        flex: 0 0 auto;
        padding: 25px;               /* å’Œå·¦å´ form çš„ padding å°é½Š */
    }

    .cart ul {
        padding-left: 0;
        list-style: none;
    }
    .cart li {
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
    }

    /* åˆªé™¤éµ */
    .item-left{
        display: inline-flex;
        align-items: center;
        gap: 8px;
        min-width: 0;
    }
    .item-name{
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 330px;
    }
    .remove-btn{
        cursor: pointer;
        border: none;
        background: transparent;
        font-size: 20px;
        line-height: 1;
        color: #999;
        padding: 0 2px;
    }
    .remove-btn:hover{
        color: #d83a3a;
    }

    label {
        display: block;
        margin-top: 15px;
        color: #555;
    }

    select{
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 20px;
    }
    
    .add-btn,
    .sent-btn{
        width: 100%;
        height: 60px;
        padding: 10px;               /* ç¢ºä¿å…©é‚ŠæŒ‰éˆ•è¦–è¦ºä¸€è‡´ */
        text-align: center;
        background-color: #5b5b5b;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 20px;
        cursor: pointer;
        transition: .5s;
        display: block;
    }
    .add-btn{  margin-top: auto; }
    .add-btn:hover,
    .sent-btn:hover{
        background-color: #bff000;
        color: #555;
    }

    /* æ•¸é‡æ§åˆ¶ */
    .quantity-control {
        display: flex;
        align-items: center;
        border: 1px solid #ccc;
        border-radius: 8px;
        overflow: hidden;
        background-color: white;
        height: 36px;
        margin-left: 10px;
        flex: 0 0 auto;
    }
    .quantity-control button {
        width: 40px;
        height: 100%;
        font-size: 24px;
        margin: 0;
        background-color: #ffffff;
        color: #555;
        border: none;
        border-right: 1px solid #ccc;
        border-left: 1px solid #ccc;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .quantity-control button:first-child { border-left: none; }
    .quantity-control button:last-child  { border-right: none; }
    .quantity-control input {
        width: 40px;
        height: 100%;
        text-align: center;
        border: none;
        font-size: 16px;
        pointer-events: none;
    }

    /* popup */
    .popup {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 500px;
        height: 300px;
        border-radius: 12px;
        padding: 20px;
        color: white;
        text-align: center;
        font-size: 18px;
        justify-content: center;
        align-items: center;
    }
    .popup-content {
        background-color: hsla(185, 95%, 51%, 0.892);
        width: 400px;
        height: 250px;
        font-size: 30px;
        color: #ffffff;
        border-radius: 10px;
        padding: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
    }
    .popup.show { display: flex; }
  </style>
</head>
<body>
  <a href="index.html" id="home-icon" title="å›é¦–é ">ğŸ </a>
  <div class="wrapper">  
    
    <!-- å·¦é‚Š container -->
    <div class="container">
      <div class="header">
        <h2>è‡ªå·±å‹•æ‰‹é»</h2>
      </div>
      <form id="orderForm">
        <label for="drink">é¸æ“‡é£²å“ï¼š</label>
        <select id="drink" name="drink">
          <option value="">-- è«‹é¸æ“‡ --</option>
          <option>ç¾å¼å’–å•¡</option>
          <option>æ‹¿éµ</option>
          <option>ç„¦ç³–ç‘ªå¥‡æœµ</option>
          <option>å¡å¸ƒå¥‡è«¾</option>
          <option>æ‘©å¡å’–å•¡</option>
          <option>æ¦›æœæ‹¿éµ</option>
          <option>è¥¿è¥¿é‡Œæª¸æª¬å’–å•¡</option>
          <option>ä¼¯çˆµå¥¶èŒ¶</option>
          <option>æŠ¹èŒ¶æ‹¿éµ</option>
          <option>ç™½æ¡ƒçƒé¾èŒ¶</option>
          <option>æ¡‚èŠ±ç¶ èŒ¶</option>
          <option>ç™¾é¦™æœç¶ èŒ¶</option>
          <option>æ´›ç¥èŠ±èŒ¶</option>
          <option>ç†±æŸšå­èŒ¶</option>
          <option>è–°è¡£è‰å¥¶èŒ¶</option>
          <option>å†·èƒå’–å•¡</option>
          <option>èœ‚èœœæª¸æª¬æ°´</option>
          <option>è‰è“æ°£æ³¡é£²</option>
          <option>å¯çˆ¾å¿…æ€æ°£æ³¡é£²</option>
          <option>è—è“å„ªæ ¼å†°æ²™</option>
          <option>é»‘ç³–é®®å¥¶</option>
          <option>é»‘ç³–è–‘èŒ¶</option>
          <option>ç†±å¯å¯</option>
          <option>æŸ³æ©™æ±</option>
        </select>

        <label for="ice">å†°å¡Šï¼š</label>
        <select id="ice" name="ice">
          <option value="">-- è«‹é¸æ“‡ --</option>
          <option>æ­£å¸¸å†°</option>
          <option>å°‘å†°</option>
          <option>å»å†°</option>
          <option>å¸¸æº«</option>
          <option>ç†±é£²</option>
        </select>

        <label for="sweet">ç”œåº¦ï¼š</label>
        <select id="sweet" name="sweet">
          <option value="">-- è«‹é¸æ“‡ --</option>
          <option>å…¨ç³–</option>
          <option>ä¸ƒåˆ†ç³–</option>
          <option>åŠç³–</option>
          <option>ä¸‰åˆ†ç³–</option>
          <option>ç„¡ç³–</option>
        </select>

        <button type="button" id="addToCart" class="add-btn">åŠ å…¥è³¼ç‰©è»Š</button>
      </form>
    </div>

    <!-- å³é‚Š cart -->
    <div class="cart-container">
      <div class="header">
        <h2>è³¼ç‰©è»Šå…§å®¹ï¼š</h2>
      </div>
      <div class="cart" id="cart">
        <ul id="cartList"></ul>
      </div>
      <div class="cart-footer">
        <button type="submit" form="orderForm" class="sent-btn">é€å‡ºè¨‚å–®</button>
      </div>
    </div>

    <!-- popup -->
    <div id="popup" class="popup">
      <div class="popup-content" id="popupContent"></div>
    </div>

    <script>
      const cartItems = [];

      document.getElementById('orderForm').addEventListener('submit', function(e) {
        e.preventDefault();

        if (cartItems.length === 0) {
          showPopup("å°šæœªé¸æ“‡é£²å“");
          return;
        }

        showPopup("è¨‚å–®å·²é€å‡º");
        cartItems.length = 0;
        updateCart();
      });

      document.getElementById('addToCart').addEventListener('click', function() {
        const drink = document.getElementById('drink').value;
        const ice = document.getElementById('ice').value;
        const sweet = document.getElementById('sweet').value;

        if (drink === '' || ice === '' || sweet === '') {
          showPopup("è«‹å®Œæ•´é¸æ“‡\né£²å“ã€å†°å¡Šã€ç”œåº¦");
          return;
        }

        const order = { text: `${drink}ï¼${ice}ï¼${sweet}`, quantity: 1 };
        cartItems.push(order);
        updateCart();
        showPopup(`æˆåŠŸåŠ å…¥è³¼ç‰©è»Š`);
      });

      function updateCart() {
        const cart = document.getElementById('cart');
        const cartList = document.getElementById('cartList');
        cartList.innerHTML = '';

        cartItems.forEach((item, index) => {
          const li = document.createElement('li');
          li.innerHTML = `
            <span class="item-left">
              <button class="remove-btn" title="åˆªé™¤" onclick="removeItem(${index})">Ã—</button>
              <span class="item-name">${index + 1}. ${item.text}</span>
            </span>
            <div class="quantity-control">
              <button onclick="decreaseQuantity(${index})">-</button>
              <input type="text" value="${item.quantity}" readonly />
              <button onclick="increaseQuantity(${index})">+</button>
            </div>
          `;
          cartList.appendChild(li);
        });
        cart.style.display = 'block';
      }

      function increaseQuantity(index) {
        cartItems[index].quantity++;
        updateCart();
      }

      function decreaseQuantity(index) {
        if (cartItems[index].quantity > 1) {
          cartItems[index].quantity--;
        }
        updateCart();
      }

      function removeItem(index){
        cartItems.splice(index, 1);
        updateCart();
      }

      function showPopup(message) {
        const popup = document.getElementById("popup");
        const popupContent = document.getElementById("popupContent");
        popupContent.innerText = message;
        popup.classList.add("show");
        setTimeout(() => {
          popup.classList.remove("show");
        }, 2000);
      }
    </script>
  </div>
</body>
</html>
